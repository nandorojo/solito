---
title: Upgrade to Solito 5
id: v4
sidebar_label: Upgrade to v5
image: https://solito.dev/img/5.png
---

```sh
yarn add solito
```

Solito 5 makes it easier than ever to use React Native with Next.js in the same codebase. It now supports Next.js 16 and Turbopack with less configuration.

## What's new

The big change in this version is dropping React Native Web as a dependency. This radically simplifies configuration, and it means you have zero middleware between Next.js and your solito code.

This is essentially what the new source code for `solito/link` component looks like:

```tsx
// link.tsx
export { default as Link } from 'next/link'
```

The goal of this change is to let you use pure Next.js on web, and an implementation of its API on native.

This decision came after many years of trying to bring native paradigms to web, only to find that the inverse is better.

## Under the hood

From an implementation standpoint, dropping React Native Web also means dropping `.web.tsx` files from Solito, and using `.native.tsx` extensions instead. **The default file is always web-first.**

React Native libraries should use web-first files, since it drastically simplifies configuration for web consumers. Every React Native build step can handle `.native.tsx` and `.ios.tsx` files; conversely, web bundlers do not, and it can be quite annoying to set this up.

As a result, Solito 5 actually works in a Next.js repo with **zero configuration**. However, as exciting as that sounds, you will still need a little bit of configuration in `next.config.js` to support other third-party libraries, such as react-native-reanimated and any packages offered by Expo.

My hope is that the community will follow this move towards web-first files to avoid configuration for web consumers. If every native library author changed their code to use `index.ts` for web, and `index.native.ts` for native, configuration would get dramatically simplified.

### Prior art

The changes made here in Solito 5 are in part inspired by Zeego 2. Zeego wraps Radix UI components on web, and at the time, it mixed in `View` and `Text` from React Native Web all over the place. Zeego 2 dropped this in favor of simply re-exporting Radix components on web, and doing all of its magic on native. As a result, consumers could use Tailwind, Shadcn, and any other web library without compromise.

After the great reception Zeego 2 received, it's clear to me that this is the correct abstraction, and it's worth the breaking changes.

## Features

- Headless and unstyled on web. Solito no longer depends on React Native Web.
- Next.js 16 support
- Expo SDK 54 support
- `className`, `style`, and all other web props are supported
- Upgraded example monorepo
  - Next.js 16
  - Turbopack
  - Expo SDK 54
- Dropped `legacyBehavior`, `passHref`, and other props from older Next.js versions

## Breaking Changes

Onto the important parts.

> The breaking changes + upgrade guide for Solito 5 are spiritually similar to those of Zeego 2. If you're interested, you can reference that guide too.

This version drops `react-native-web` as a dependency from core Solito components, such as `Link` and `TextLink`. In Solito 4, these components came with react-native-web's reset styles, such as `font-size` and setting `display: flex`. That behavior is dropped in v4.

### `TextLink`

- Web: `TextLink` no longer uses `Text` from `react-native-web`.
  - You will need to apply your own styles, such as font-family.
  - You can no longer pass array styles; `style` must be an object, like React web
- `textProps` dropped from `TextLink`. Use props directly.
- `className` works, along with any other web props

My recommendation for consuming components from Solito (and any open source library) is to re-export it from your own design system before using it in app code:

```tsx
// components/link.tsx

export { Link } from 'solito/link'
```

This way, you can easily update every usage of it by changing that one file. For example, if you want to preserve Solito v4 default styling, you can simply set it like so:

```tsx
import { Link as SolitoLink } from 'solito/link'

const resetStyle = {
  // ...
  // you can copy this from react-native-web
}

export function Link(props: React.ComponentProps<typeof SolitoLink>) {
  return <SolitoLink {...props} style={{ ...resetStyle, ...props.style }} />
}
```

### `Link`

- `Link` no longer uses `View` from `react-native-web` on Web. It renders `next/link` directly
  - If you relied on flex styles on your view, you may have to adjust them.
  - You can no longer pass array styles; `style` must be an object, like React web
- `viewProps` dropped from `Link`. Use props directly.
- `className` works, along with any other web props

### `SolitoImage`

- No longer supports `onLayout` on web, since it renders `next/image` directly
- `className` works, along with any other web props
- `style` must be an object, like React web
- Certain props from `expo/image` are still shimmed on web, such as `contentFit`

## Upgrade Guide

In your `packages/app` folder (or wherever you install Solito):

```sh
yarn add solito
```

To see compatibile versions with Next.js 16, see the [compatibility guide](/compatibility).

Refer to the [breaking changes](#breaking-changes) above. If you use styles on your Link, TextLink, or SolitoImage, you may need to adjust them. The best way to do so is to have a single file that exports these components which you can edit.
